{"componentChunkName":"component---src-pages-search-jsx","path":"/search/","result":{"data":{"allMarkdownRemark":{"nodes":[{"excerpt":"화상상담을 위한 Janus 구성 환경구성 Ubuntu 18.04 bionic Python 3.7 설치 명령어 정리 파이썬 및 기본 소프트웨어 설치 Janus 설치 How to install Janus Gateway in Ubuntu Server 18.04 Janus 설치 libnice 설치 ※ 최소 파이썬 3.7을 요구한다.  libstrp 설치 usrc…","fields":{"slug":"/화상상담을-위한-Janus-구성/"},"frontmatter":{"date":"January 03, 2023","title":"화상상담을 위한 Janus 구성","tags":["BE"]},"rawMarkdownBody":"# 화상상담을 위한 Janus 구성\n\n<aside>\n👨‍💻 Janus를 우분투에 설치하면서 사용한 명령어 정리\nStun 서버와 Turn 서버를 위한 Coturn Server도 함께 설치\n</aside>\n\n## 환경구성\n\n- Ubuntu 18.04 bionic\n- Python 3.7\n\n## 설치 명령어 정리\n\n1. 파이썬 및 기본 소프트웨어 설치\n2. Janus 설치\n    \n    [How to install Janus Gateway in Ubuntu Server 18.04](https://ourcodeworld.com/articles/read/1197/how-to-install-janus-gateway-in-ubuntu-server-18-04)\n    \n    - Janus 설치\n        \n        ```bash\n        packagelist=( \n        git \n        libmicrohttpd-dev \n        libjansson-dev \n        libssl-dev \n        libsrtp-dev \n        libsofia-sip-ua-dev \n        libglib2.0-dev \n        libopus-dev \n        libogg-dev \n        libcurl4-openssl-dev \n        liblua5.3-dev \n        libconfig-dev \n        pkg-config \n        gengetopt \n        libtool \n        automake \n        gtk-doc-tools \n        cmake \n        ) \n        apt-get install ${packagelist[@]}\n        ```\n        \n    - libnice 설치\n        \n        *※ 최소 파이썬 3.7을 요구한다.* \n        \n        ```bash\n        pip3 install meson==0.61.5 \n        ln -s /usr/local/bin/meson /usr/bin/ \n        wget https://github.com/ninja-build/ninja/releases/download/v1.10.1/ninja-linux.zip \n        unzip ninja-linux.zip \n        cp ninja /usr/bin/ \n        git clone https://gitlab.freedesktop.org/libnice/libnice.git\n        cd libnice \n        meson --prefix=/usr build \n        ninja -C build \n        ninja -C build install\n        ```\n        \n    - libstrp 설치\n        \n        ```bash\n        wget https://github.com/cisco/libsrtp/archive/v2.2.0.tar.gz \n        tar xfv v2.2.0.tar.gz \n        cd libsrtp-2.2.0 \n        ./configure —prefix=/usr —enable-openssl \n        make shared_library && make install\n        ```\n        \n    - usrctp 설치\n        \n        ```bash\n        git clone https://github.com/sctplab/usrsctp \n        cd usrsctp \n        ./bootstrap \n        ./configure --prefix=/usr && make && make install\n        ```\n        \n    - libwebsockets 설치\n        \n        ```bash\n        git clone https://github.com/warmcat/libwebsockets.git \n        cd libwebsockets \n        mkdir build \n        cd build \n        cmake -DLWS_MAX_SMP=1 -LWS_IPV6=ON -DCMAKE_INSTALL_PREFIX:PATH=/usr -DCMAKE_C_FLAGS=\"-fpic\" .. \n        make && make install\n        ```\n        \n    - mqtt 설치\n        \n        ```bash\n        git clone https://github.com/eclipse/paho.mqtt.c.git \n        cd paho.mqtt.c \n        prefix=/usr make install\n        ```\n        \n    - NanoMSG 설치\n        \n        ```bash\n        apt-get install libnanomsg-dev -y\n        ```\n        \n    - RabbitMQ C AMQP 설치\n        \n        ```bash\n        git clone https://github.com/alanxz/rabbitmq-c \n        cd rabbitmq-c \n        git submodule init \n        git submodule update \n        mkdir build && cd build \n        cmake -DCMAKE_INSTALL_PREFIX=/usr ..\n        make && make install\n        ```\n        \n    - janus 컴파일링\n        \n        ```bash\n        git clone https://github.com/meetecho/janus-gateway.git\n        cd janus-gateway\n        sh autogen.sh\n        ./configure —prefix=/opt/janus\n        make && make install\n        make configs\n        ```\n        \n3. Janus 설정\n    \n    설정 파일 위치 : /opt/janus/etc/janus\n    \n    - janus.jcfg\n        \n        ```bash\n        - log_to_file : 주석해제 \n        - admin_secret : 변경 \"PW\" \n        - rtp_port_range : 주석해제 및 변경 \"20000-60000\" \n        - stun_server : 변경 \"Stun Server Domain\" \n        - stun_port : 주석해제 \n        - nat_1_1_mapping : 변경 \"Server IP\" \n        - turn_server : 변경 \"Turn Server Domain\" \n        - turn_port : 주석해제 \n        - turn_type : 주석해제 \n        - turn_user : 주석해제 및 변경 \"Turn ID\" \n        - turn_pwd : 주석해제 및 변경 \" Turn PW\" \n        - ipv6 : 주석해제 및 변경 \"true\"\n        ```\n        \n    - janus.plugin.videoroom.jcfg\n        \n        ```bash\n        general{ \n        admin_key : 주석해제 및 변경 \"비밀번호\" \n        publishers : 생성 값 \"10\" \n        }\n        ```\n        \n    - janus.transport.http.jcfg\n        \n        ```bash\n        https : 값 변경 \"true\" \n        secure_port : 주석 해제 \n        admin_https : 주석처리 값 변경 \"true\" \n        cert_pem : 값 변경 \"crt.pem 위치\" \n        cert_key : 값 변경 \"key.pem 위치\" \n        cert_pwd : 값 변경 \"인증서 비밀번호\"\n        ```\n        \n4. Coturn 설치\n    \n    [Corturn](http://john-home.iptime.org:8085/xe/index.php?mid=board_sKSz42&document_srl=1546)"}]}},"pageContext":{}},"staticQueryHashes":[],"slicesMap":{}}