{"componentChunkName":"component---src-pages-search-jsx","path":"/search/","result":{"data":{"allMarkdownRemark":{"nodes":[{"excerpt":"화상상담을 위한 Janus 구성 환경구성 Ubuntu 18.04 bionic Python 3.7 설치 명령어 정리 파이썬 및 기본 소프트웨어 설치 Janus 설치 How to install Janus Gateway in Ubuntu Server 18.04 Janus 설치 libnice 설치 ※ 최소 파이썬 3.7을 요구한다.  libstrp 설치 usrc…","fields":{"slug":"/화상상담을-위한-Janus-구성/"},"frontmatter":{"date":"January 03, 2023","title":"화상상담을 위한 Janus 구성","tags":["BE"]},"rawMarkdownBody":"# 화상상담을 위한 Janus 구성\r\n\r\n<aside>\r\n👨‍💻 Janus를 우분투에 설치하면서 사용한 명령어 정리\r\nStun 서버와 Turn 서버를 위한 Coturn Server도 함께 설치\r\n</aside>\r\n\r\n## 환경구성\r\n\r\n- Ubuntu 18.04 bionic\r\n- Python 3.7\r\n\r\n## 설치 명령어 정리\r\n\r\n1. 파이썬 및 기본 소프트웨어 설치\r\n2. Janus 설치\r\n    \r\n    [How to install Janus Gateway in Ubuntu Server 18.04](https://ourcodeworld.com/articles/read/1197/how-to-install-janus-gateway-in-ubuntu-server-18-04)\r\n    \r\n    - Janus 설치\r\n        \r\n        ```bash\r\n        packagelist=( \r\n        git \r\n        libmicrohttpd-dev \r\n        libjansson-dev \r\n        libssl-dev \r\n        libsrtp-dev \r\n        libsofia-sip-ua-dev \r\n        libglib2.0-dev \r\n        libopus-dev \r\n        libogg-dev \r\n        libcurl4-openssl-dev \r\n        liblua5.3-dev \r\n        libconfig-dev \r\n        pkg-config \r\n        gengetopt \r\n        libtool \r\n        automake \r\n        gtk-doc-tools \r\n        cmake \r\n        ) \r\n        apt-get install ${packagelist[@]}\r\n        ```\r\n        \r\n    - libnice 설치\r\n        \r\n        *※ 최소 파이썬 3.7을 요구한다.* \r\n        \r\n        ```bash\r\n        pip3 install meson==0.61.5 \r\n        ln -s /usr/local/bin/meson /usr/bin/ \r\n        wget https://github.com/ninja-build/ninja/releases/download/v1.10.1/ninja-linux.zip \r\n        unzip ninja-linux.zip \r\n        cp ninja /usr/bin/ \r\n        git clone https://gitlab.freedesktop.org/libnice/libnice.git\r\n        cd libnice \r\n        meson --prefix=/usr build \r\n        ninja -C build \r\n        ninja -C build install\r\n        ```\r\n        \r\n    - libstrp 설치\r\n        \r\n        ```bash\r\n        wget https://github.com/cisco/libsrtp/archive/v2.2.0.tar.gz \r\n        tar xfv v2.2.0.tar.gz \r\n        cd libsrtp-2.2.0 \r\n        ./configure —prefix=/usr —enable-openssl \r\n        make shared_library && make install\r\n        ```\r\n        \r\n    - usrctp 설치\r\n        \r\n        ```bash\r\n        git clone https://github.com/sctplab/usrsctp \r\n        cd usrsctp \r\n        ./bootstrap \r\n        ./configure --prefix=/usr && make && make install\r\n        ```\r\n        \r\n    - libwebsockets 설치\r\n        \r\n        ```bash\r\n        git clone https://github.com/warmcat/libwebsockets.git \r\n        cd libwebsockets \r\n        mkdir build \r\n        cd build \r\n        cmake -DLWS_MAX_SMP=1 -LWS_IPV6=ON -DCMAKE_INSTALL_PREFIX:PATH=/usr -DCMAKE_C_FLAGS=\"-fpic\" .. \r\n        make && make install\r\n        ```\r\n        \r\n    - mqtt 설치\r\n        \r\n        ```bash\r\n        git clone https://github.com/eclipse/paho.mqtt.c.git \r\n        cd paho.mqtt.c \r\n        prefix=/usr make install\r\n        ```\r\n        \r\n    - NanoMSG 설치\r\n        \r\n        ```bash\r\n        apt-get install libnanomsg-dev -y\r\n        ```\r\n        \r\n    - RabbitMQ C AMQP 설치\r\n        \r\n        ```bash\r\n        git clone https://github.com/alanxz/rabbitmq-c \r\n        cd rabbitmq-c \r\n        git submodule init \r\n        git submodule update \r\n        mkdir build && cd build \r\n        cmake -DCMAKE_INSTALL_PREFIX=/usr ..\r\n        make && make install\r\n        ```\r\n        \r\n    - janus 컴파일링\r\n        \r\n        ```bash\r\n        git clone https://github.com/meetecho/janus-gateway.git\r\n        cd janus-gateway\r\n        sh autogen.sh\r\n        ./configure —prefix=/opt/janus\r\n        make && make install\r\n        make configs\r\n        ```\r\n        \r\n3. Janus 설정\r\n    \r\n    설정 파일 위치 : /opt/janus/etc/janus\r\n    \r\n    - janus.jcfg\r\n        \r\n        ```bash\r\n        - log_to_file : 주석해제 \r\n        - admin_secret : 변경 \"PW\" \r\n        - rtp_port_range : 주석해제 및 변경 \"20000-60000\" \r\n        - stun_server : 변경 \"Stun Server Domain\" \r\n        - stun_port : 주석해제 \r\n        - nat_1_1_mapping : 변경 \"Server IP\" \r\n        - turn_server : 변경 \"Turn Server Domain\" \r\n        - turn_port : 주석해제 \r\n        - turn_type : 주석해제 \r\n        - turn_user : 주석해제 및 변경 \"Turn ID\" \r\n        - turn_pwd : 주석해제 및 변경 \" Turn PW\" \r\n        - ipv6 : 주석해제 및 변경 \"true\"\r\n        ```\r\n        \r\n    - janus.plugin.videoroom.jcfg\r\n        \r\n        ```bash\r\n        general{ \r\n        admin_key : 주석해제 및 변경 \"비밀번호\" \r\n        publishers : 생성 값 \"10\" \r\n        }\r\n        ```\r\n        \r\n    - janus.transport.http.jcfg\r\n        \r\n        ```bash\r\n        https : 값 변경 \"true\" \r\n        secure_port : 주석 해제 \r\n        admin_https : 주석처리 값 변경 \"true\" \r\n        cert_pem : 값 변경 \"crt.pem 위치\" \r\n        cert_key : 값 변경 \"key.pem 위치\" \r\n        cert_pwd : 값 변경 \"인증서 비밀번호\"\r\n        ```\r\n        \r\n4. Coturn 설치\r\n    \r\n    [Corturn](http://john-home.iptime.org:8085/xe/index.php?mid=board_sKSz42&document_srl=1546)"}]}},"pageContext":{}},"staticQueryHashes":[],"slicesMap":{}}