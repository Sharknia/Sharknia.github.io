{"componentChunkName":"component---src-templates-post-jsx","path":"/화상상담을-위한-Janus-구성/","result":{"data":{"site":{"siteMetadata":{"title":"SharkniA"}},"markdownRemark":{"id":"0b1c2d5a-2b50-5b66-afbf-b01926c0dd54","excerpt":"화상상담을 위한 Janus 구성 환경구성 Ubuntu 18.04 bionic Python 3.7 설치 명령어 정리 파이썬 및 기본 소프트웨어 설치 Janus 설치 How to install Janus Gateway in Ubuntu Server 18.04 Janus 설치 libnice 설치 ※ 최소 파이썬 3.7을 요구한다.  libstrp 설치 usrc…","html":"<h1>화상상담을 위한 Janus 구성</h1>\n<aside>\n👨‍💻 Janus를 우분투에 설치하면서 사용한 명령어 정리\nStun 서버와 Turn 서버를 위한 Coturn Server도 함께 설치\n</aside>\n<h2>환경구성</h2>\n<ul>\n<li>Ubuntu 18.04 bionic</li>\n<li>Python 3.7</li>\n</ul>\n<h2>설치 명령어 정리</h2>\n<ol>\n<li>파이썬 및 기본 소프트웨어 설치</li>\n<li>\n<p>Janus 설치</p>\n<p><a href=\"https://ourcodeworld.com/articles/read/1197/how-to-install-janus-gateway-in-ubuntu-server-18-04\">How to install Janus Gateway in Ubuntu Server 18.04</a></p>\n<ul>\n<li>\n<p>Janus 설치</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token assign-left variable\">packagelist</span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span> \n<span class=\"token function\">git</span> \nlibmicrohttpd-dev \nlibjansson-dev \nlibssl-dev \nlibsrtp-dev \nlibsofia-sip-ua-dev \nlibglib2.0-dev \nlibopus-dev \nlibogg-dev \nlibcurl4-openssl-dev \nliblua5.3-dev \nlibconfig-dev \npkg-config \ngengetopt \nlibtool \nautomake \ngtk-doc-tools \ncmake \n<span class=\"token punctuation\">)</span> \n<span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> <span class=\"token variable\">${packagelist<span class=\"token punctuation\">[</span>@<span class=\"token punctuation\">]</span>}</span></code></pre></div>\n</li>\n<li>\n<p>libnice 설치</p>\n<p><em>※ 최소 파이썬 3.7을 요구한다.</em> </p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">pip3 <span class=\"token function\">install</span> <span class=\"token assign-left variable\">meson</span><span class=\"token operator\">==</span><span class=\"token number\">0.61</span>.5 \n<span class=\"token function\">ln</span> <span class=\"token parameter variable\">-s</span> /usr/local/bin/meson /usr/bin/ \n<span class=\"token function\">wget</span> https://github.com/ninja-build/ninja/releases/download/v1.10.1/ninja-linux.zip \n<span class=\"token function\">unzip</span> ninja-linux.zip \n<span class=\"token function\">cp</span> ninja /usr/bin/ \n<span class=\"token function\">git</span> clone https://gitlab.freedesktop.org/libnice/libnice.git\n<span class=\"token builtin class-name\">cd</span> libnice \nmeson <span class=\"token parameter variable\">--prefix</span><span class=\"token operator\">=</span>/usr build \nninja <span class=\"token parameter variable\">-C</span> build \nninja <span class=\"token parameter variable\">-C</span> build <span class=\"token function\">install</span></code></pre></div>\n</li>\n<li>\n<p>libstrp 설치</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">wget</span> https://github.com/cisco/libsrtp/archive/v2.2.0.tar.gz \n<span class=\"token function\">tar</span> xfv v2.2.0.tar.gz \n<span class=\"token builtin class-name\">cd</span> libsrtp-2.2.0 \n./configure —prefix<span class=\"token operator\">=</span>/usr —enable-openssl \n<span class=\"token function\">make</span> shared_library <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">make</span> <span class=\"token function\">install</span></code></pre></div>\n</li>\n<li>\n<p>usrctp 설치</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> clone https://github.com/sctplab/usrsctp \n<span class=\"token builtin class-name\">cd</span> usrsctp \n./bootstrap \n./configure <span class=\"token parameter variable\">--prefix</span><span class=\"token operator\">=</span>/usr <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">make</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">make</span> <span class=\"token function\">install</span></code></pre></div>\n</li>\n<li>\n<p>libwebsockets 설치</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> clone https://github.com/warmcat/libwebsockets.git \n<span class=\"token builtin class-name\">cd</span> libwebsockets \n<span class=\"token function\">mkdir</span> build \n<span class=\"token builtin class-name\">cd</span> build \ncmake <span class=\"token parameter variable\">-DLWS_MAX_SMP</span><span class=\"token operator\">=</span><span class=\"token number\">1</span> <span class=\"token parameter variable\">-LWS_IPV6</span><span class=\"token operator\">=</span>ON <span class=\"token parameter variable\">-DCMAKE_INSTALL_PREFIX:PATH</span><span class=\"token operator\">=</span>/usr <span class=\"token parameter variable\">-DCMAKE_C_FLAGS</span><span class=\"token operator\">=</span><span class=\"token string\">\"-fpic\"</span> <span class=\"token punctuation\">..</span> \n<span class=\"token function\">make</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">make</span> <span class=\"token function\">install</span></code></pre></div>\n</li>\n<li>\n<p>mqtt 설치</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> clone https://github.com/eclipse/paho.mqtt.c.git \n<span class=\"token builtin class-name\">cd</span> paho.mqtt.c \n<span class=\"token assign-left variable\">prefix</span><span class=\"token operator\">=</span>/usr <span class=\"token function\">make</span> <span class=\"token function\">install</span></code></pre></div>\n</li>\n<li>\n<p>NanoMSG 설치</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> libnanomsg-dev <span class=\"token parameter variable\">-y</span></code></pre></div>\n</li>\n<li>\n<p>RabbitMQ C AMQP 설치</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> clone https://github.com/alanxz/rabbitmq-c \n<span class=\"token builtin class-name\">cd</span> rabbitmq-c \n<span class=\"token function\">git</span> submodule init \n<span class=\"token function\">git</span> submodule update \n<span class=\"token function\">mkdir</span> build <span class=\"token operator\">&amp;&amp;</span> <span class=\"token builtin class-name\">cd</span> build \ncmake <span class=\"token parameter variable\">-DCMAKE_INSTALL_PREFIX</span><span class=\"token operator\">=</span>/usr <span class=\"token punctuation\">..</span>\n<span class=\"token function\">make</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">make</span> <span class=\"token function\">install</span></code></pre></div>\n</li>\n<li>\n<p>janus 컴파일링</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> clone https://github.com/meetecho/janus-gateway.git\n<span class=\"token builtin class-name\">cd</span> janus-gateway\n<span class=\"token function\">sh</span> autogen.sh\n./configure —prefix<span class=\"token operator\">=</span>/opt/janus\n<span class=\"token function\">make</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">make</span> <span class=\"token function\">install</span>\n<span class=\"token function\">make</span> configs</code></pre></div>\n</li>\n</ul>\n</li>\n<li>\n<p>Janus 설정</p>\n<p>설정 파일 위치 : /opt/janus/etc/janus</p>\n<ul>\n<li>\n<p>janus.jcfg</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">- log_to_file <span class=\"token builtin class-name\">:</span> 주석해제 \n- admin_secret <span class=\"token builtin class-name\">:</span> 변경 <span class=\"token string\">\"PW\"</span> \n- rtp_port_range <span class=\"token builtin class-name\">:</span> 주석해제 및 변경 <span class=\"token string\">\"20000-60000\"</span> \n- stun_server <span class=\"token builtin class-name\">:</span> 변경 <span class=\"token string\">\"Stun Server Domain\"</span> \n- stun_port <span class=\"token builtin class-name\">:</span> 주석해제 \n- nat_1_1_mapping <span class=\"token builtin class-name\">:</span> 변경 <span class=\"token string\">\"Server IP\"</span> \n- turn_server <span class=\"token builtin class-name\">:</span> 변경 <span class=\"token string\">\"Turn Server Domain\"</span> \n- turn_port <span class=\"token builtin class-name\">:</span> 주석해제 \n- turn_type <span class=\"token builtin class-name\">:</span> 주석해제 \n- turn_user <span class=\"token builtin class-name\">:</span> 주석해제 및 변경 <span class=\"token string\">\"Turn ID\"</span> \n- turn_pwd <span class=\"token builtin class-name\">:</span> 주석해제 및 변경 <span class=\"token string\">\" Turn PW\"</span> \n- ipv6 <span class=\"token builtin class-name\">:</span> 주석해제 및 변경 <span class=\"token string\">\"true\"</span></code></pre></div>\n</li>\n<li>\n<p>janus.plugin.videoroom.jcfg</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">general<span class=\"token punctuation\">{</span> \nadmin_key <span class=\"token builtin class-name\">:</span> 주석해제 및 변경 <span class=\"token string\">\"비밀번호\"</span> \npublishers <span class=\"token builtin class-name\">:</span> 생성 값 <span class=\"token string\">\"10\"</span> \n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>\n<p>janus.transport.http.jcfg</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">https <span class=\"token builtin class-name\">:</span> 값 변경 <span class=\"token string\">\"true\"</span> \nsecure_port <span class=\"token builtin class-name\">:</span> 주석 해제 \nadmin_https <span class=\"token builtin class-name\">:</span> 주석처리 값 변경 <span class=\"token string\">\"true\"</span> \ncert_pem <span class=\"token builtin class-name\">:</span> 값 변경 <span class=\"token string\">\"crt.pem 위치\"</span> \ncert_key <span class=\"token builtin class-name\">:</span> 값 변경 <span class=\"token string\">\"key.pem 위치\"</span> \ncert_pwd <span class=\"token builtin class-name\">:</span> 값 변경 <span class=\"token string\">\"인증서 비밀번호\"</span></code></pre></div>\n</li>\n</ul>\n</li>\n<li>\n<p>Coturn 설치</p>\n<p><a href=\"http://john-home.iptime.org:8085/xe/index.php?mid=board_sKSz42&#x26;document_srl=1546\">Corturn</a></p>\n</li>\n</ol>","frontmatter":{"title":"화상상담을 위한 Janus 구성","date":"January 03, 2023","update":"August 20, 2023","tags":["BE"],"series":null},"fields":{"slug":"/화상상담을-위한-Janus-구성/","readingTime":{"minutes":2.56}}},"seriesList":{"edges":[{"node":{"id":"0b1c2d5a-2b50-5b66-afbf-b01926c0dd54","fields":{"slug":"/화상상담을-위한-Janus-구성/"},"frontmatter":{"title":"화상상담을 위한 Janus 구성"}}},{"node":{"id":"865e05e1-e5c6-526f-92e6-4f2d31e585c0","fields":{"slug":"/JavaScript-기본-문법/"},"frontmatter":{"title":"JavaScript 기본 문법"}}}]},"previous":null,"next":{"fields":{"slug":"/JavaScript-기본-문법/"},"frontmatter":{"title":"JavaScript 기본 문법"}}},"pageContext":{"id":"0b1c2d5a-2b50-5b66-afbf-b01926c0dd54","series":null,"previousPostId":null,"nextPostId":"865e05e1-e5c6-526f-92e6-4f2d31e585c0"}},"staticQueryHashes":[],"slicesMap":{}}