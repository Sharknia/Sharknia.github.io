---
IDX: "NUM-79"
tags:
  - FastAPI
  - Python
update: "2024-02-02T16:32:00.000Z"
date: "2023-11-07"
상태: "Ready"
title: "FastAPI에서 데코레이터와 Dependency"
---
Dependency Injection 시스템과 데코레이터 시스템은 유사한 목적을 가질 수 있다. 하지만 구현과 사용법에서 몇 가지 차이점이 있다. 

## 공통점

#### 명시적인 인증 체크

인증 로직을 명시적으로 라우트에 적용하여 추가 기능이 필요한 지점을 쉽게 식별할 수 있다. 

#### 중앙 집중식 관리

로직을 한 곳에서 관리함으로써 코드의 중복을 줄이고 일관성을 유지할 수 있다. 

## 각 기능 별 장점

### Dependency Injection (의존성 주입)

#### 재사용성

Dependency는 여러 라우트에서 재사용 될 수 있으며 필요에 따라 다양한 파라미터와 함께 주입될 수 있다. 

#### 자동문서화

FastAPI의 스웨거 UI에서 Dependency가 자동으로 문서화된다. 

#### 형식 안정성

FastAPI의 형식 추론을 사용하여 파라미터의 유효성 검사와 변환을 자동으로 수행할 수 있다. 

### Decorator (데코레이터)

#### 간결성

데코레이터는 종종 코드를 더 간결하게 만들어주며, 의도를 명확히 표현하는 경우가 많다. 

#### 융통성

데코레이터는 함수를 감싸는 방식으로 작동하므로 더 복잡한 로직을 내부에 포함할 수 있다. 

## 사용 시 고려 사항

#### 비즈니스 로직의 분리 

데코레이터는 추가를 원하는 로직과 비즈니스 로직을 물리적으로 분리하는데 유용할 수 있다. 

#### 코드의 명확성

Dependency는 의존성이 명시적이므로 코드를 읽고 이해하기 쉬워진다. 

#### 비동기 지원

비동기 코드를 사용할 때에는 데코레이터 내부에서 async 함수를 올바르게 처리할 수 있는지 확인해야 한다. 

