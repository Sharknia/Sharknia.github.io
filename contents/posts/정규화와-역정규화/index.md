---
tags:
  - DataBase
update: "2024-01-29"
date: "2023-08-23"
상태: "POST"
title: "정규화와 역정규화"
---
## 정규화

정규화는 데이터베이스 설계 과정 중에서 중복을 최소화하고 데이터의 일관성과 무결성을 유지하기 위한 기법이다. 정규화는 데이터를 더 작은 논리적 단위로 분할하고 이를 통해 중복 데이터를 제거하여 데이터베이스의 효율성과 유지보수 용이성을 향상 시킨다. 

정규화는 대표적으로 업데이트 이상, 삽입 이상, 삭제 이상과 같은 무제를 해결한다. 

#### 주요 정규화 단계

1. 제 1정규형(1NF)

1. 제 2정규형(2NF)

1. 제 3정규형(3NF)

1. 보이스-코드 정규형(BCNF)

#### 정규화의 필요성

1. 데이터 중복 최소화

    중복 데이터는 데이터베이스 내에서 일관성 문제를 일으킨다. 중복된 데이터가 변경될 경우 모든 복사본을 일관되게 업데이트 해야 하며, 이를 놓칠경우 불일치가 발생할 수 있다. 

    정규화는 데이터를 더 작은 단위로 분할하여 중복을 최소화 하고 이로 인한 불일치 가능성을 낮춘다. 

1. 데이터 일관성 유지

    데이터를 여러 테이블에 나누고 관계를 설정함으로써 데이터 간의 의미적 관계를 명확하게 정의할 수 있다. 

1. 데이터 이상 방지

    삽입, 업데이트, 삭제 시 발생할 수 있는 이상 현상을 방지한다. 

1. 검색 성능 개선

1. 데이터베이스 구조의 명확성

1. 유지보수 용이성

    정규화된 데이터는 데이터베이스 변경이 필요한 경우에도 수정 작업이 해당 테이블에서만 이루어질 가능성이 높다. 이로써 수정이 다른 부분에 미치는 영향을 최소화 하고 유지보수를 용이하게 만든다. 

1. 데이터베이스 확장성

    추후 DB 확장 또는 새로운 기능 추가할 때 더 유연하게 대응할 수 있는 기반이 된다. 

1. 데이터 무결성 강화

    중복이 최소화 되고 일관성이 유지되면서 데이터의 무결성이 강화된다.

#### 정규화의 단점

- 정규화되면 데이터의 일부가 여러 테이블에 나눠져 저장되어 테이블이 증가하므로 아래와 같은 문제점들이 발생할 수 있다. 

1. 조인의 증가

1. 읽기 작업의 복잡성

1. 데이터 일관성 유지의 어려움

1. 갱신 작업의 비효율성

#### 정규화시 주의해야 할 점

1. 과도한 정규화

    너무 과도한 정규화는 복잡한 쿼리, 늘어난 조인으로 성능 저하의 원인이 될 수 있다. 

1. 데이터베이스 디자인의 복잡성

    데이터가 분산되어 복잡한 조인과 서브쿼리가 늘어나면서 쿼리 작성, 유지보수가 어려워 질 수 있다. 

1. 역정규화의 필요성

    때로 성능 향상이나 특정 요구사항을 위해 데이터 무결성을 해칠 위험을 각오하고도 역정규화가 필요할 수 있다. 

## 역정규화

성능 향상 또는 특정 비즈니스 요구에 맞추기 위해 데이터베이스의 구조를 다시 조정하는 과정을 말한다. 정규화된 데이터를 다시 조합하여 중복 데이터를 허용하는 등의 작업이다.

#### 역정규화가 필요한 이유

1. 성능향상

    과도한 정규화는 여러 테이블에 데이터를 나누어 저장하므로 데이터 추출 또는 조인 시 성능 저하의 우려가 있다. 데이터를 조합하여 빠른 검색과 조인을 가능하게 하여 성능을 향상 시킬 수 있다. 

1. 복잡한 쿼리 간소화

    마찬가지로 과도한 정규화는 많은 조인으로 인해 쿼리문이 복잡해진다. 역정규화를 통해 쿼리문의 간소화를 노릴 수 있다. 

1. 비즈니스 요구 사항 충족

    보고서 생성 및 분석이나 실시간 대시보드 처럼 데이터를 실시간으로 수집하거나 집계해야 하는 경우 데이터베이스 구조를 최적화 하거나 데이터를 임의로 중복저장 하여 성능향상을 노릴 수 있다. 

### 결론

정규화와 역정규화는 서로 장점, 단점을 역으로 공유한다. 따라서 데이터의 무결성이나 성능, 일관성 등 여러가지를 신중하게 검토하여 최적의 전략을 선택해야 한다. 

[DB 튜닝 경험](https://sharknia.github.io/DB-튜닝-경험)  

