---
tags:
  - Network
update: "2024-01-31"
date: "2023-08-23"
상태: "Ready"
title: "트래픽 튜닝"
---
트래픽 튜닝(traffic tuning)은 네트워크 성능을 최적화하기 위한 방법 중 하나이다.

트래픽 튜닝은 대부분 네트워크의 병목 현상을 최소화하고, 서비스 응답 시간을 개선하며, 사용자의 경험을 향상시키는 데 목표를 둔다. 다음은 트래픽 튜닝과 관련된 몇 가지 주요 측면과 전략이다.

1. 로드 밸런싱 (Load Balancing)

    로드 밸런싱은 서비스의 안정성을 유지하는 핵심 요소이다. 서비스에 과부하가 걸리지 않도록 여러 서버간에 트래픽을 균등하게 분산시켜 주는 역할을 한다. 이는 서비스의 가용성을 향상시키며, 단일 서버의 과부하를 방지한다.

    로드 밸런서는 일반적으로 클라이언트와 서버 중간에 위치하여 요청을 전달하는 역할을 한다. 

    - 로드 밸런싱의 특징 및 이점

    1. 고가용성/장애복구/무정지 업그레이드

        로드 밸런서의 도입으로 서버 중 하나에 문제가 발생해도 다른 서버가 작업을 처리하므로 서비스 중단을 최소화 가능하다. 

        또한 특정 서버에 장애가 발생했을 때에도 로드 밸런서가 그 사실을 인지하고 자동으로 정상 작동하는 서버로 트래픽을 전환할 수 있다. 

        또, 서버의 유지보수나 업그레이드시 서비스 중단 없이 서버를 순차적으로 점검 또는 업그레이드 할 수 있다. 

    1. 확장성

        트래픽이 늘어나면 추가 서버를 쉽게 추가하여 트래픽을 처리할 수 있다. 

    1. 균등한 분산

        서버 간의 트래픽이나 작업 부하를 균등하게 분산하여 각 서버의 효율적인 작동을 지원한다. 

    - 로드 밸런싱의 주요 유형

    1. DNS 로드 밸런싱

        DNS 쿼리를 기반으로 요청을 다양한 서버 IP 주소로 리디렉션한다. 

    1. 레이어 4 로드 밸런싱

        전송 계층(TCP/UDP)에서 작동하며, IP 주소와 포트 정보를 기반으로 트래픽을 분산시킨다. 

    1. 레이어 7 로드 밸런싱

        응용 프로그램 계층에서 작동하며 HTTP 헤더, 쿠키, URL 등의 내용을 기반으로 트래픽을 분산시킨다. 

    - 로드 밸런싱의 주의 또는 단점

    1. 설정의 복잡성

        올바르게 설정하지 않으면 문제 발생 가능

    1. 단일 장애점

        로드 밸런서 자체가 단일 장애점(SPOF, Single Point Of Failure)이 될 수 있다. 이를 예방하기 위해서 고가용성 구성을 가진 여러 로드 밸런서를 사용해야 한다. 

    1. 세션 유지 문제

        로드 밸런서는 상태가 없는(stateless) 방식으로 작동하므로 특정 사용자의 세션을 특정 서버에 고정 시키기 위해 추가적인 설정이 필요

    1. 데이터 동기화 문제

        여러 서버에 걸쳐 데이터가 저장된다면 이를 동기화 하는 것이 중요하다. 

    1. 기타

        비용, 지연 시간 등이 추가로 발생할 수 있다. 또한 로드 밸런서는 시스템 중앙에 위치하므로 보안 설정 및 업데이트에 주의를 기울여야한다. 

1. 데이터베이스 최적화

    대형 서비스에서는 많은 양의 데이터가 데이터베이스에 저장되기 때문에, 데이터베이스의 성능은 서비스의 성능에 직접적인 영향을 미친다. 쿼리 최적화, 인덱싱, 캐싱 등의 방법으로 데이터베이스 응답 시간을 최적화하는 것이 중요하다.

    [DB 튜닝 경험](https://sharknia.github.io/2023-08-18/DB-튜닝-경험)  

1. 캐싱 (Caching)

    많은 사용자가 동일한 정보나 페이지에 접근할 가능성이 높다. 캐싱을 통해 빈번하게 접근되는 데이터나 페이지를 빠르게 제공할 수 있으며, 네트워크 트래픽과 데이터베이스 부하를 줄일 수 있다.

1. 데이터 압축

    대규모 서비스에서는 데이터 전송량이 많을 수 있다. 압축을 통해 네트워크 부하를 줄이고 응답 속도를 향상시킬 수 있다.

1. 로깅 및 모니터링

    실시간으로 서비스의 상태를 모니터링하고, 문제가 발생할 경우 빠르게 대응하기 위해 로깅 및 모니터링 시스템의 구축이 중요하다.

1. CDN 사용

    이미지나 정적 파일과 같은 컨텐츠를 전세계적으로 빠르게 제공하기 위해 CDN 사용을 고려할 수 있다.

    

